@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Default Jackpot brand colors */
        --primary: #6366f1;
        --secondary: #8b5cf6;
        --accent: #ec4899;
        --primary-rgb: 99, 102, 241;
    }
    
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="url"],
    input[type="number"],
    input[type="tel"],
    input[type="search"],
    input[type="date"],
    input[type="datetime-local"],
    input[type="time"],
    textarea,
    select {
        @apply px-3 py-2;
    }
}

@layer utilities {
    /* Animated sheen for upload progress bar */
    @keyframes upload-sheen-animation {
        0% {
            background-position: 200% 0;
        }
        100% {
            background-position: -200% 0;
        }
    }
    
    /* Asset grid container with dynamic card size */
    .asset-grid-container {
        grid-template-columns: repeat(auto-fill, minmax(var(--asset-card-size), 1fr));
    }

    /* Download bucket: count "bump" when an asset is added (slot-machine style feedback) */
    @keyframes bucket-count-bump {
        0% {
            transform: scale(1.35);
            color: rgb(99 102 241);
        }
        60% {
            transform: scale(1.05);
        }
        100% {
            transform: scale(1);
            color: inherit;
        }
    }
    .animate-bucket-count-bump {
        animation: bucket-count-bump 0.45s ease-out;
    }

    /* Thin scrollbar for navigation panels */
    .scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: rgb(209 213 219) transparent;
    }
    .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
    }
    .scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: rgb(209 213 219);
        border-radius: 9999px;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: rgb(156 163 175);
    }

    /* Cinematic Experience: fade-in for splash */
    @keyframes fade-in {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
        animation: fade-in 600ms ease-in-out forwards;
    }

    /* Download landing: fluid, abstract jackpot-inspired animation — morphing blobs + subtle shimmer */
    @keyframes download-blob-1 {
        0%, 100% {
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            transform: translate(0, 0) scale(1);
            opacity: 0.4;
        }
        25% {
            border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
            transform: translate(5%, -8%) scale(1.05);
            opacity: 0.5;
        }
        50% {
            border-radius: 50% 60% 30% 60% / 30% 60% 70% 40%;
            transform: translate(-5%, 5%) scale(0.95);
            opacity: 0.35;
        }
        75% {
            border-radius: 60% 40% 60% 30% / 70% 30% 50% 60%;
            transform: translate(3%, 3%) scale(1.02);
            opacity: 0.45;
        }
    }
    @keyframes download-blob-2 {
        0%, 100% {
            border-radius: 40% 60% 60% 40% / 70% 30% 70% 30%;
            transform: translate(0, 0) scale(1);
            opacity: 0.25;
        }
        33% {
            border-radius: 60% 40% 30% 70% / 40% 70% 50% 60%;
            transform: translate(-8%, 4%) scale(1.08);
            opacity: 0.35;
        }
        66% {
            border-radius: 30% 70% 70% 30% / 50% 50% 50% 50%;
            transform: translate(6%, -5%) scale(0.92);
            opacity: 0.2;
        }
    }
    @keyframes download-shimmer {
        0% { transform: translateX(-80%) skewX(-12deg); opacity: 0; }
        15% { opacity: 0.1; }
        50% { transform: translateX(50%) skewX(-12deg); opacity: 0.06; }
        85% { opacity: 0.08; }
        100% { transform: translateX(180%) skewX(-12deg); opacity: 0; }
    }
    .download-accent-blob-1 {
        animation: download-blob-1 12s ease-in-out infinite;
    }
    .download-accent-blob-2 {
        animation: download-blob-2 14s ease-in-out infinite 1.5s;
    }
    .download-accent-shimmer {
        animation: download-shimmer 8s ease-in-out infinite 2s;
    }

}


/* Inertia/NProgress page-load bar: use active brand primary color (--primary is set by BrandThemeProvider) */
#nprogress .bar {
    background: var(--primary, #6366f1) !important;
}

.gap-7{
    gap: 1.7rem;
}

/* C12: Collection-only user — main menu (Dashboard, Assets, etc.) disabled
   Flags you can use for overrides:
   - nav.app-nav.is-collection-only (class on <nav>)
   - nav[data-collection-only="true"] (data attribute on <nav>)
   - --collection-only-user: 1 (CSS variable on <nav>, use var(--collection-only-user) in your rules)
   - .app-nav-main-links (class on the div wrapping Dashboard, Assets, Deliverables, Collections, Generative, Downloads)
   - .app-nav-main-links[data-collection-only="true"] (that div when collection-only)
*/
nav.app-nav.is-collection-only .app-nav-main-links .nav-link-disabled,
nav.app-nav[data-collection-only="true"] .app-nav-main-links .nav-link-disabled,
.app-nav-main-links[data-collection-only="true"] .nav-link-disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
    user-select: none;
    color: #9ca3af;
}

/* Optional: use the CSS variable for your own overrides, e.g. .my-thing { opacity: var(--collection-only-user, 1); } */

/* PWA/mobile safe-area support */
.safe-area-pb {
    padding-bottom: env(safe-area-inset-bottom);
}

.app-mobile-bottom-offset {
    bottom: calc(4.5rem + env(safe-area-inset-bottom));
}

.app-mobile-tray-offset {
    bottom: calc(5.5rem + env(safe-area-inset-bottom));
}

body.has-mobile-tabbar {
    padding-bottom: calc(4.5rem + env(safe-area-inset-bottom));
}

@media (min-width: 640px) {
    .app-mobile-bottom-offset {
        bottom: 0;
    }

    .app-mobile-tray-offset {
        bottom: 1rem;
    }

    body.has-mobile-tabbar {
        padding-bottom: 0;
    }
}